# 脚手架优化
1. webpack 封装
-   
1. 利用require.context()实现自动注册
```
//引入全局组件
const requireGlobalComponent = require.context('./global-components', false, /\.vue$/);
requireGlobalComponent.keys().forEach((fileName) => {
  const componentConfig = requireGlobalComponent(fileName);
  const componentName = `g-${fileName
    .split('/')
    .pop()
    .replace(/\.\w+$/, '')}`;
  Vue.component(componentName, componentConfig.default);
});
```
2. axios封装
- async封装
- get方法增加防抖、post方法增加节流
- 增加消息提示
- 统一错误处理
- 根据状态码进行错误提示。 

3. gzip压缩
利用CompressionWebpackPlugin进行gzip压缩
```
  new CompressionWebpackPlugin({
            test: /\.js$|\.html$|.\css/, //匹配文件名
            threshold: 10240, //对超过10k的数据压缩
            deleteOriginalAssets: false, //不删除源文件
          }),

```
4. 公共组件和方法封装
- 混入封装
    - 缓存vue组件
    利用keepalive的include属性
    - 缓存页面参数
    利用mixins、生命周期、sessionStorage
- 过滤器封装
    - 数字过滤器
        > 11111改为1.1111万，到亿，千亿，万亿 
    - 时间过滤器
        > 用于处理后端未转换的时间数据（例如：2019-02-15T08:44:15.000+0000）
- 自定义指令封装
    - 提示框
    - 对话框增强(支持拖拽、双击全屏、缩放)
    - DOM事件防抖
    - 表单清空
-  vue封装组件
    - 排序组件
    - 纵向锚点导航栏
    - 带分页的表格
    - 筛选条件组件
    - 基于路由的面包屑
    - 横向列表
    - 上传组件封装
