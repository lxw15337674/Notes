# http 
## 概念
HTTP是一种`超文本传输协议（Hypertext Transfer Protocol)`，HTTP是一个基于TCP实现的应用层协议。一个两点之间传输数据的约定和规范。

![image](https://user-gold-cdn.xitu.io/2018/5/11/1634e5e73955739d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)
## 主要内容
分为三部分，超文本、传输、协议
- 超文本是不止文本，还包含图片、音频、视频等数据
- 传输是数据从一端系统传送到另一端系统的过程。通常我们把传输数据包的一方称为请求方，把接到二进制数据包的一方称为应答方。
- 协议是指传输的规范、规则。



## http 1.0
- HTTP 1.0 仅仅提供了最基本的认证，这时候用户名和密码还未经加密，因此很容易收到窥探。
- HTTP 1.0 被设计用来使用短链接，即每次发送数据都会经过 TCP 的三次握手和四次挥手，效率比较低。
- HTTP 1.0 只使用 header 中的 If-Modified-Since 和 Expires 作为缓存失效的标准。
- HTTP 1.0 不支持断点续传，也就是说，每次都会传送全部的页面和数据。
- HTTP 1.0 认为每台计算机只能绑定一个 IP，所以请求消息中的 URL 并没有传递主机名（hostname）。


## http 1.1
### 与http1.0区别
- 使用摘要算法进行身份验证。
- 长连接： HTTP/1.1默认使用长连接，在一个TCP连接上可以传送多个HTTP请求，避免了因为多次建立TCP连接时间消耗和延时，
- 缓存处理： HTTP/1.1引入Entity tag，If-Unmodified-Since, If-Match, If-None-Match等新的请求头来控制缓存。
- 带宽优化及网络连接的使用： HTTP1.1则在请求头引入了range头，支持断点续传功能
- 虚拟主机的支持： 在HTTP/1.0中认为每台服务器都有唯一的IP地址，但随着虚拟主机技术的发展，多个主机共享一个IP地址愈发普遍，HTTP1.1的请求消息和响应消息都应支持Host头域，且请求消息中如果没有Host头域会400错误
- 引入Cookie。
### 存在问题
1. TCP 连接数限制，浏览器最多只能同时创建 6~8 个 TCP 连接 。
2. 线头阻塞问题，每个 TCP 连接同时只能处理一个请求 - 响应。后面的只能等待

## http 2.0

### 特性
> 多路复用（即一个tcp/ip连接可以并发请求多个资源）  
> 头部压缩（http头部压缩，减少体积）  
> 二进制分帧（在应用层跟传送层之间增加了一个二进制分帧层，将数据切分为数据帧，改进传输性能，实现低延迟和高吞吐量）  
> 服务器端推送（服务端可以对客户端的一个请求发出多个响应，可以主动通知客户端）  
> 请求优先级（如果流被赋予了优先级，它就会基于这个优先级来处理，由服务器决定需要多少资源来处理该请求。）  
### 与http1.1不同点
> - ttp1.1中，每请求一个资源，都是需要开启一个tcp/ip连接的，所以对应的结果是，每一个资源对应一个tcp/ip请求，由于tcp/ip本身有并发数限制，所以当资源一多，速度就显著慢下来。
> - http2.0中，只要一个tcp请求可以并发请求多个资源，分割成更小的帧请求，速度明显提升。


![image](https://user-gold-cdn.xitu.io/2019/3/13/1697763defd85d4b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

## 引用
[关于http2.0的HTTP 2.0 的二进制帧、流、多路复用](https://juejin.im/post/5c88f2066fb9a049c043e420)
[HTTP2 详解](https://blog.wangriyu.wang/2018/05-HTTP2.html)
[http发展史(http0.9、http1.0、http1.1、http2、http3)梳理笔记]
(https://juejin.im/post/5dbe8eba5188254fe019dabb#heading-9)

